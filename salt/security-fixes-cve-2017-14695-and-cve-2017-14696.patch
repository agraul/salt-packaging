From 9f5051771fe31bad23ac7b3f75b88ac18f78c966 Mon Sep 17 00:00:00 2001
From: Erik Johnson <palehose@gmail.com>
Date: Fri, 25 Aug 2017 14:15:58 -0500
Subject: [PATCH] Security fixes: CVE-2017-14695 and CVE-2017-14696

* Don't allow path separators in minion ID
* Do not allow IDs with null bytes in decoded payloads
---
 salt/utils/verify.py | 9 ---------
 1 file changed, 9 deletions(-)

diff --git a/salt/utils/verify.py b/salt/utils/verify.py
index e319385363..7cf5062a9c 100644
--- a/salt/utils/verify.py
+++ b/salt/utils/verify.py
@@ -481,15 +481,6 @@ def clean_path(root, path, subdir=False):
     return ''
 
 
-def clean_id(id_):
-    '''
-    Returns if the passed id is clean.
-    '''
-    if re.search(r'\.\.\{sep}'.format(sep=os.sep), id_):
-        return False
-    return True
-
-
 def valid_id(opts, id_):
     '''
     Returns if the passed id is valid
-- 
2.17.1


