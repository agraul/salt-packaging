From d0ccd1041840773fd745e35b1213e5de37177a4c Mon Sep 17 00:00:00 2001
From: Mihai Dinca <mdinca@suse.de>
Date: Fri, 2 Mar 2018 17:17:58 +0100
Subject: [PATCH] Fix openscap push

---
 salt/modules/openscap.py | 4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

diff --git a/salt/modules/openscap.py b/salt/modules/openscap.py
index c5b51a1846..e3190e1e11 100644
--- a/salt/modules/openscap.py
+++ b/salt/modules/openscap.py
@@ -13,7 +13,6 @@ from subprocess import Popen, PIPE
 
 # Import Salt libs
 from salt.ext import six
-from salt.client import Caller
 
 
 ArgumentParser = object
@@ -105,8 +104,7 @@ def xccdf(params):
         success = _OSCAP_EXIT_CODES_MAP[proc.returncode]
         returncode = proc.returncode
         if success:
-            caller = Caller()
-            caller.cmd('cp.push_dir', tempdir)
+            __salt__['cp.push_dir'](tempdir)
             shutil.rmtree(tempdir, ignore_errors=True)
             upload_dir = tempdir
 
-- 
2.16.2


